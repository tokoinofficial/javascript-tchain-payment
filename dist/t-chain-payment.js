var Payment;(()=>{"use strict";var e,t,n,o,a,r={6010:(e,t,n)=>{n=n(2906),e.exports=n},2906:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});const o={init:async function(e={}){var{default:t,TestConfigs:o}=await n.e(619).then(n.bind(n,3619));window._tpayment={},window._tpayment.apiKey=e.api_key||"",window._tpayment.configs="sandbox"===e.mode?o:t},deposit:async function(e,t){const[{DepositReq:o},{default:a}]=await Promise.all([n.e(37).then(n.bind(n,4037)),Promise.all([n.e(295),n.e(619),n.e(325)]).then(n.bind(n,7533))]),r={...o,...e},i=(await async function(){const e=window.ethereum;if(void 0!==e){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x"+Number(window._tpayment.configs.ChainId).toString(16)}]});const o=(await Promise.all([n.e(295),n.e(692),n.e(601)]).then(n.bind(n,1692))).ethers,a=(window._tpayment.provider=new o.providers.Web3Provider(e),await window._tpayment.provider.send("eth_requestAccounts",[]),window._tpayment.provider.getSigner());window._tpayment.walletAddress=await a.getAddress(),window._tpayment.tchain_contract=new o.Contract(window._tpayment.configs.TchainContractAddress,window._tpayment.configs.TchainContractABI,window._tpayment.provider);{const e=(await Promise.all([n.e(295),n.e(692),n.e(601)]).then(n.bind(n,1692))).ethers,o={};for(const a of Object.keys(window._tpayment.configs.AssetByTokenName)){const r=await async function(e){return new((await Promise.all([n.e(295),n.e(692),n.e(601)]).then(n.bind(n,1692))).ethers.Contract)(e,window._tpayment.configs.Bep20ContractABI,window._tpayment.provider)}(window._tpayment.configs.AssetByTokenName[a]);var t;null!==r&&(t=await r.balanceOf(window._tpayment.walletAddress),o[a]={amount:t,decimals:await r.decimals()},o[a].unitAmount=e.utils.formatUnits(o[a].amount,o[a].decimals))}window._tpayment.balances=o,await void 0}}}(),r.callback=t,new a(r));i.show()},generateQrCode:async function(e={}){const[{DepositReq:t},o]=await Promise.all([n.e(37).then(n.bind(n,4037)),n.e(592).then(n.t.bind(n,2592,19))]),a=(e={...t,...e},e=JSON.stringify({notes:e.notes,chain_id:window._tpayment.configs.ChainId,currency:window._tpayment.configs.CurrencySupport.includes(e.currency)?e.currency:window._tpayment.configs.DefaultCurrency,amount:e.amount}),e={method:"POST",headers:{"x-api-key":window._tpayment.apiKey,"Content-Type":"application/json"},body:e},await fetch(window._tpayment.configs.TChainAPIURL+"/t-chain-sdk/generate-qrcode",e));return e="mtwallet://app/payment_deposit?qr_code="+(await a.json()).result.data.qr_code,o.toDataURL(e)}}}},i={};function d(e){var t=i[e];return void 0!==t||(t=i[e]={id:e,loaded:!1,exports:{}},r[e].call(t.exports,t,t.exports,d),t.loaded=!0),t.exports}d.m=r,d.amdO={},d.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return d.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,d.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"==typeof n.then)return n}var a=Object.create(null),r=(d.r(a),{});e=e||[null,t({}),t([]),t(t)];for(var i=2&o&&n;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>r[e]=()=>n[e]));return r.default=()=>n,d.d(a,r),a},d.d=(e,t)=>{for(var n in t)d.o(t,n)&&!d.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},d.f={},d.e=e=>Promise.all(Object.keys(d.f).reduce(((t,n)=>(d.f[n](e,t),t)),[])),d.u=e=>e+".t-chain-payment.js",d.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),d.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},o="Payment:",d.l=(e,t,a,r)=>{if(n[e])n[e].push(t);else{var i,c;if(void 0!==a)for(var s=document.getElementsByTagName("script"),l=0;l<s.length;l++){var p=s[l];if(p.getAttribute("src")==e||p.getAttribute("data-webpack")==o+a){i=p;break}}i||(c=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,d.nc&&i.setAttribute("nonce",d.nc),i.setAttribute("data-webpack",o+a),i.src=e),n[e]=[t],t=(t,o)=>{i.onerror=i.onload=null,clearTimeout(u);var a=n[e];if(delete n[e],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((e=>e(o))),t)return t(o)};var u=setTimeout(t.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=t.bind(null,i.onerror),i.onload=t.bind(null,i.onload),c&&document.head.appendChild(i)}},d.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),d.g.importScripts&&(c=d.g.location+"");var c,s=d.g.document;if(c||!s||(c=s.currentScript?s.currentScript.src:c)||(s=s.getElementsByTagName("script")).length&&(c=s[s.length-1].src),!c)throw new Error("Automatic publicPath is not supported in this browser");c=c.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),d.p=c,a={179:0},d.f.j=(e,t)=>{var n,o,r=d.o(a,e)?a[e]:void 0;0!==r&&(r?t.push(r[2]):(n=new Promise(((t,n)=>r=a[e]=[t,n])),t.push(r[2]=n),t=d.p+d.u(e),o=new Error,d.l(t,(t=>{var n;d.o(a,e)&&(0!==(r=a[e])&&(a[e]=void 0),r&&(n=t&&("load"===t.type?"missing":t.type),t=t&&t.target&&t.target.src,o.message="Loading chunk "+e+" failed.\n("+n+": "+t+")",o.name="ChunkLoadError",o.type=n,o.request=t,r[1](o)))}),"chunk-"+e,e)))},s=(e,t)=>{var n,o,[r,i,c]=t,s=0;if(r.some((e=>0!==a[e]))){for(n in i)d.o(i,n)&&(d.m[n]=i[n]);c&&c(d)}for(e&&e(t);s<r.length;s++)o=r[s],d.o(a,o)&&a[o]&&a[o][0](),a[o]=0},(c=self.webpackChunkPayment=self.webpackChunkPayment||[]).forEach(s.bind(null,0)),c.push=s.bind(null,c.push.bind(c)),s=d(6010),Payment=s})();